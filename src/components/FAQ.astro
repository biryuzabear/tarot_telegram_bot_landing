---
const faqs = [
  {
    question: "Как работает AI-интерпретация?",
    answer: "Бот использует искусственный интеллект для анализа выпавших карт, их позиций в раскладе и взаимосвязей между ними. AI учитывает контекст вашего вопроса и создаёт персонализированную интерпретацию, а не просто описывает значения карт.",
  },
  {
    question: "Можно ли задать вопрос голосом?",
    answer: "Да! Просто отправьте голосовое сообщение боту. Бот распознает вашу речь и преобразует в текст. Это удобно, когда хочется задать вопрос более естественно и развёрнуто.",
  },
  {
    question: "Что такое анализ фото расклада?",
    answer: "Если вы раскладываете физические карты, можете сфотографировать расклад и отправить боту. AI распознает карты на фото и даст интерпретацию, как если бы вы делали расклад в боте.",
  },
  {
    question: "Какая колода используется?",
    answer: "Сейчас используется классическая колода Райдер-Уэйт-Смит — самая популярная и узнаваемая колода Таро. В будущем планируем добавить другие колоды и скины.",
  },
  {
    question: "Расклады сохраняются?",
    answer: "Да, все ваши расклады сохраняются в истории. Вы можете вернуться к любому раскладу, добавить личные заметки, отметить избранные. История доступна через Mini App прямо в Telegram.",
  },
  {
    question: "Как работает оплата?",
    answer: "Вы покупаете пакеты раскладов: 5, 40 или 100 штук. Расклады не сгорают — используйте, когда удобно. Оплата через Telegram Stars или банковскую карту.",
  },
  {
    question: "Есть бесплатные расклады?",
    answer: "Да! При регистрации вы получаете премиум-расклад, чтобы попробовать бота. Бесплатные расклады включают все базовые функции.",
  },
  {
    question: "Это настоящее гадание?",
    answer: "Бот — это инструмент для самопознания и рефлексии. AI интерпретации основаны на традиционных значениях карт Таро и помогают взглянуть на ситуацию под новым углом. Относитесь к раскладам как к пище для размышлений, а не как к предсказаниям.",
  },
];
---

<section id="faq" class="py-16 relative">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section header -->
    <div class="text-center mb-16">
      <span class="inline-block px-4 py-1.5 bg-gold-500/10 border border-gold-500/20 rounded-full text-gold-300 text-sm font-medium mb-4">
        FAQ
      </span>
      <h2 class="font-display text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-4">
        Частые вопросы
      </h2>
      <p class="text-dark-300 text-lg">
        Ответы на популярные вопросы о боте
      </p>
    </div>

    <!-- FAQ items -->
    <div class="space-y-4">
      {faqs.map((faq, index) => (
        <div class="faq-item bg-dark-800/30 border border-white/5 rounded-xl overflow-hidden hover:border-white/10 transition-all">
          <button
            class="faq-trigger w-full px-6 py-5 text-left flex items-center justify-between gap-4"
            aria-expanded="false"
          >
            <span class="font-medium text-white">
              {faq.question}
            </span>
            <svg class="faq-icon w-5 h-5 text-dark-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="faq-content hidden">
            <div class="px-6 pb-5 text-dark-300 leading-relaxed">
              {faq.answer}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  document.querySelectorAll('.faq-trigger').forEach(button => {
    button.addEventListener('click', () => {
      const item = button.closest('.faq-item');
      const content = item?.querySelector('.faq-content');
      const icon = item?.querySelector('.faq-icon');
      const isExpanded = button.getAttribute('aria-expanded') === 'true';

      // Close all other items
      document.querySelectorAll('.faq-item').forEach(otherItem => {
        if (otherItem !== item) {
          otherItem.querySelector('.faq-content')?.classList.add('hidden');
          otherItem.querySelector('.faq-trigger')?.setAttribute('aria-expanded', 'false');
          otherItem.querySelector('.faq-icon')?.classList.remove('rotate-180');
        }
      });

      // Toggle current item
      button.setAttribute('aria-expanded', (!isExpanded).toString());
      content?.classList.toggle('hidden');
      icon?.classList.toggle('rotate-180');
    });
  });
</script>
